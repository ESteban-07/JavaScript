const miModulo=(()=>{"use strict";let e=[],t=["C","D","H","S"],r=["A","J","Q","K"],l=[],n,i;document.querySelector("#btnNuevo");let a=document.querySelector("#btnPedir"),s=document.querySelector("#btnDetener"),o=document.querySelectorAll("small"),c=document.querySelectorAll(".divCartas"),d=(t=2)=>{e=u(),l=[],n=0,i=0;for(let r=0;r<t;r++)l.push(0);o.forEach(e=>e.innerText=0),c.forEach(e=>e.innerHTML=""),a.disabled=!1,s.disabled=!1},u=()=>{e=[];for(let l=2;l<=10;l++)for(let n of t)e.push(`${l}${n}`);for(let i of r)for(let a of t)e.push(`${i}${a}`);return _.shuffle(e)},f=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.pop()},$=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t};a.addEventListener("click",()=>{let e=f(),t=h(e,0);[n]=l,g(e,t),n>=21&&b(n)});let h=(e,t)=>(l[t]+=$(e),o[t].innerText=l[t],t),g=(e,t)=>{let r=document.createElement("img");r.src=`./assets/cartas/${e}.png`,r.classList.add("carta"),c[t].append(r)},b=e=>{let t,r;do if(t=f(),r=h(t,l.length-1),[,i]=l,g(t,r),e>=21)break;while(i<e&&e<=21);p()};s.addEventListener("click",()=>{n&&b(n)});let p=()=>{a.disabled=!0,s.disabled=!0,y()},y=()=>{n<=21?i>21||n>i?E({title:"Ganaste!",icon:"success"}):n===i?E({title:"Empate!",icon:"warning"}):E({title:"Perdiste, PC gana!",icon:"error"}):E({title:"Perdiste, PC gana!",icon:"error"})},E=({title:e,icon:t})=>setTimeout(()=>{Swal.fire({title:e,icon:t,text:`T\xfa: ${n} - PC: ${i}`})},1e3);return{nuevoJuego:d}})();